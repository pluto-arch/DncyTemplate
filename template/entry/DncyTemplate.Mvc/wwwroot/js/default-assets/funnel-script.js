(function ($) {
    // Initialize after dom ready
    var chartBasicanother = echarts.init(document.getElementById('another_basic_funnel'));

    option = {
        tooltip: {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c}%"
        },
        color: [
        '#17a2b8',
        '#dc3545',
        '#ffc107',
        '#989ebf',
        '#24ccda'
    ],
        legend: {
            data: ['Show', 'Click on', 'access', 'advisory', 'Order'],
            padding: [5, 5, 60, 5],
        },
        calculable: true,
        series: [
            {
                name: 'Funnel map',
                type: 'funnel',
                x: '10%',
                y: 50,
                y2: 50,
                width: ' 80%',
                min: 0,
                max: 100,
                minSize: ' 0%',
                maxSize: ' 100%',
                sort: 'descending', // 'ascending', 'descending'
                gap: 10,
                itemStyle: {
                    normal: {
                        // color: å„å¼‚,
                        borderColor: '#fff',
                        borderWidth: 1,
                        label: {
                            show: true,
                            position: 'inside'
                            // textStyle: null      // The default use of the global text style, see TEXTSTYLE
                        },
                        labelLine: {
                            show: false,
                            length: 10,
                            lineStyle: {
                                // color: å„å¼‚,
                                width: 1,
                                type: 'solid'
                            }
                        }
                    },
                    emphasis: {
                        // color: å„å¼‚,
                        borderColor: '#fff',
                        borderWidth: 5,
                        label: {
                            show: true,
                            formatter: '{b}:{c}%',
                            textStyle: {
                                fontSize: 18,
                                color: '#111'
                            }
                        },
                        labelLine: {
                            show: true
                        }
                    }
                },
                data: [
                    {
                        value: 60,
                        name: 'access'
                    },
                    {
                        value: 40,
                        name: 'advisory'
                    },
                    {
                        value: 20,
                        name: 'Order'
                    },
                    {
                        value: 80,
                        name: 'Click on'
                    },
                    {
                        value: 100,
                        name: 'Show'
                    }
            ]
        }
    ]
    };

    // Load data into the ECharts instance 
    chartBasicanother.setOption(option);

    $(window).on('resize', function () {
        if (chartBasicanother != null && chartBasicanother != undefined) {
            chartBasicanother.resize();
        }
    });




    /*          Multiple Funnel Script          */


    // Initialize after dom ready
    var chartMulti = echarts.init(document.getElementById('multiples_funnels'));

    option = {
        color: [
    '#6156ce',
    '#07e0c4',
    '#17a2b8',
    '#f8538d',
    '#f58b22'
    ],
        tooltip: {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c}%"
        },
        legend: {
            data: ['Show', 'Click on', 'access', 'advisory', 'Order'],
        },
        calculable: true,
        series: [
            {
                name: 'expected',
                type: 'funnel',
                x: '10%',
                width: '80%',
                itemStyle: {
                    normal: {
                        label: {
                            formatter: '{b} expected'
                        },
                        labelLine: {
                            show: false
                        },
                    },
                    emphasis: {
                        label: {
                            position: 'inside',
                            formatter: '{b} expected : {c}%',
                            textStyle: {
                                color: '#000'
                            }
                        }
                    }
                },
                data: [
                    {
                        value: 60,
                        name: 'access'
                    },
                    {
                        value: 40,
                        name: 'advisory'
                    },
                    {
                        value: 20,
                        name: 'Order'
                    },
                    {
                        value: 80,
                        name: 'Click on'
                    },
                    {
                        value: 100,
                        name: 'Show'
                    }
            ]
        },
            {
                name: 'actual',
                type: 'funnel',
                x: '10%',
                width: '80%',
                maxSize: '80%',
                itemStyle: {
                    normal: {
                        borderColor: '#fff',
                        borderWidth: 2,
                        label: {
                            position: 'inside',
                            formatter: '{c}%',
                            textStyle: {
                                color: '#fff'
                            }
                        }
                    },
                    emphasis: {
                        label: {
                            position: 'inside',
                            formatter: '{b}actual : {c}%'
                        }
                    }
                },
                data: [
                    {
                        value: 30,
                        name: 'access'
                    },
                    {
                        value: 10,
                        name: 'advisory'
                    },
                    {
                        value: 5,
                        name: 'Order'
                    },
                    {
                        value: 50,
                        name: 'Click on'
                    },
                    {
                        value: 80,
                        name: 'Show'
                    }
            ]
        }
    ]
    };

    // Load data into the ECharts instance 
    chartMulti.setOption(option);

    $(window).on('resize', function () {
        if (chartMulti != null && chartMulti != undefined) {
            chartMulti.resize();
        }
    });
})(jQuery);